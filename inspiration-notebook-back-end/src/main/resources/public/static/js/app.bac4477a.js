(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],d=0,l=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={app:0},a={app:0},i=[];function c(e){return s.p+"static/js/"+({404:"404",home:"home",list:"list",login:"login",search:"search"}[e]||e)+"."+{404:"207923c6",home:"74517dec",list:"7ff770aa",login:"f9f5157e",search:"c2680aa6"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={home:1,list:1,login:1,search:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="static/css/"+({404:"404",home:"home",list:"list",login:"login",search:"search"}[e]||e)+"."+{404:"31d6cfe0",home:"b873c6fd",list:"36d76bca",login:"994d8982",search:"b25f62a4"}[e]+".css",a=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],d=u.getAttribute("data-href");if(d===r||d===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],f.parentNode.removeChild(f),n(i)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=i);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,s.nc&&d.setAttribute("nonce",s.nc),d.src=c(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}a[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=d;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e44b"),n("6648"),n("5f54"),n("f0e6");var r=n("6e6d"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={name:"app"},c=i,s=(n("7c55"),n("4e82")),u=Object(s["a"])(c,o,a,!1,null,null,null),d=u.exports,l=n("c478"),f=(n("309f"),n("0b53"),n("6d57"),n("08c1")),h=n("d722");r["default"].use(f["a"]);var p=new f["a"].Store({state:{username:"",userId:0,operatorName:"",userType:"个人",websocket:null,content:"",noteMarkdownHtmlList:[],fileList:[],selectedNotebook:{},selectedNote:{},selectedBranch:{},autoSaveInterval:!1,showBranch:!1},mutations:{setUserInformation:function(e,t){e.username=t.username,e.userId=t.userId,e.userType=t.userType,e.operatorName=t.operatorName},setContent:function(e,t){e.content=t},setSelectedNotebook:function(e,t){e.selectedNotebook=t},setSelectedNote:function(e,t){e.selectedNote=t},setSelectedBranch:function(e,t){e.selectedBranch=t},setShowBranch:function(e,t){e.showBranch=t}},actions:{initStore:function(e){var t=e.commit;e.state;t("setUserInformation",{username:"",userId:0,operatorName:"",userType:"个人"}),t("setContent",""),t("setSelectedNotebook",{}),t("setSelectedNote",{}),t("setSelectedBranch",{}),t("setShowBranch",!1)},getNote:function(e,t){var n=this,r=e.commit,o=e.state;this.$app.$Spin.show(),Object(h["h"])({noteName:o.selectedNote.noteName,notebookName:o.selectedNotebook.notebookName,userId:o.userId}).then((function(e){if(e=e.data,"200"===e.code)if(void 0!==t&&t>=0){var o=!0,a=!1,i=void 0;try{for(var c,s=e.data[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var u=c.value;u.branchId===t&&(r("setSelectedBranch",u),r("setContent",u.content))}}catch(d){a=!0,i=d}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}}else r("setSelectedBranch",e.data[0]),r("setContent",e.data[0].content);else n.$app.$Message.error("加载笔记内容失败："+e.msg)})).catch((function(e){n.$app.$Message.error("未知错误"+e)})).finally((function(){n.$app.$Spin.hide()}))},saveNote:function(e,t){var n=this,r=e.commit,o=e.state;if(void 0!==o.content&&void 0!==o.selectedNote.noteName&&void 0!==o.selectedNotebook.notebookName){var a=Object(h["m"])({userId:o.userId,branchId:o.selectedBranch.branchId,notebookName:o.selectedNotebook.notebookName,noteName:o.selectedNote.noteName,content:o.content,operator:o.operatorName});0===t?(this.$app.$Spin.show(),a.then((function(e){if(e=e.data,"200"===e.code){n.$app.$Message.success("保存成功");var t=o.selectedNote;t.branchArrayList=e.data,r("setSelectedNote",t);var a=!0,i=!1,c=void 0;try{for(var s,u=e.data[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var d=s.value;d.branchId===o.selectedBranch.branchId&&r("setSelectedBranch",d)}}catch(l){i=!0,c=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw c}}}else n.$app.$Message.error("保存失败："+e.msg)})).catch((function(e){n.$app.$Message.error("笔记保存失败："+e)})).finally((function(){n.$app.$Spin.hide()}))):1===t&&a.then((function(e){if(e=e.data,"200"===e.code){var t=o.selectedNote;t.branchArrayList=e.data,r("setSelectedNote",t);var n=!0,a=!1,i=void 0;try{for(var c,s=e.data[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var u=c.value;u.branchId===o.selectedBranch.branchId&&r("setSelectedBranch",u)}}catch(d){a=!0,i=d}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}}}))}}}}),m=p;r["default"].use(l["a"]);var v=new l["a"]({routes:[{path:"/",name:"index",redirect:"/login"},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"9291"))}},{path:"/home",component:function(){return n.e("home").then(n.bind(null,"77b8"))},children:[{path:"",redirect:"list"},{path:"list",component:function(){return n.e("list").then(n.bind(null,"0975"))}},{path:"search",component:function(){return n.e("search").then(n.bind(null,"168d"))}}]},{path:"*",component:function(){return n.e("404").then(n.bind(null,"1570"))}}]});v.beforeEach((function(e,t,n){m.state.selectedNotebook&&m.state.selectedNote&&m.state.note&&m.dispatch("wsSaveNote"),"/login"!==e.path&&""===m.state.username?n("/login"):n()}));var b=v,g=n("61b5"),y=n.n(g);n("6799");r["default"].use(y.a);var N=n("2905"),k=n("6852"),w=n("db3a"),I=n.n(w),S=(n("cc57"),n("9a33"),n("5cb4"),function(e){return e=e||window.event,e?(e.target||(e.target=e.srcElement),e.currentTarget||(e.currentTarget=e.srcElement),e):e}),T=function(){var e="addEventListener",t="removeEventListener",n="";return window.addEventListener||(e="attachEvent",t="detachEvent",n="on"),{addMethod:e,removeMethod:t,prefix:n}},B=function(e){var t=e.getBoundingClientRect(),n=t.width||t.right-t.left,r=t.heigth||t.bottom-t.top;return I()({},t,{width:n,height:r})};function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof HTMLElement))return console.warn("input element is not a HTML element!"),"";var n=[],r=e;while(r){var o=C(r,t);if(!o)break;if(n.unshift(o),j(n.join(">"))===e||o.indexOf("body")>=0)break;n.shift();var a=r.parentNode.children;if(a.length>1)for(var i=0;i<a.length;i++)if(a[i]===r){o+=":nth-child(".concat(i+1,")");break}if(n.unshift(o),j(n.join(">"))===e)break;r=r.parentNode}return n.join(">")}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];if(!e||!e.tagName)return"";if(e.id)return"#".concat(e.id);if(n.push(e.tagName.toLowerCase()),t){var r=e.className;if(r&&"string"===typeof r){var o=r.split(/\s+/);n.push(".".concat(o.join(".")))}}return e.name&&n.push("[name=".concat(e.name,"]")),n.join("")}function j(e){return document.getElementById(e)||document.getElementsByName(e)[0]||document.querySelector(e)}var O={useClass:!1,events:["mousedown","keydown"]},$=function(){function e(){Object(N["a"])(this,e),this.trackerInitialized=!1,this.trackerOptions=O,this.nightWatchCode="the night watch code is:\n"}return Object(k["a"])(e,[{key:"config",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=I()(!0,{},O,e),e.event=O.event,this.trackerOptions=e}},{key:"captureEvents",value:function(){for(var e=this,t=this.trackerOptions.events,n=T(),r=0,o=t.length;r<o;r++){var a=t[r];document.body[n.addMethod](n.prefix+a,(function(t){var n=S(t);if(n){var r=e.handleDomPathTrack(n),o=e.handlePositionTrack(n),a=e.handleInputTrack(n),i=I()(!0,r,o,a);e.generateSpecs(i)}}),!1)}}},{key:"handleDomPathTrack",value:function(e){var t=E(e.target,this.trackerOptions.useClass);return{domPath:t,trackingType:e.type}}},{key:"handlePositionTrack",value:function(e){var t=B(e.target);if(0!==t.width&&0!==t.height&&(void 0!==e.pageX||void 0!==e.clientX)){var n=document.documentElement||document.body.parentNode,r=(n&&"number"==typeof n.scrollLeft?n:document.body).scrollLeft,o=(n&&"number"==typeof n.scrollTop?n:document.body).scrollTop,a=e.pageX||e.clientX+r,i=e.pageY||e.clientY+o;return{offsetX:((a-t.left-r)/t.width).toFixed(6),offsetY:((i-t.top-o)/t.height).toFixed(6)}}}},{key:"handleInputTrack",value:function(e){if(void 0!==e.key)return{inputKey:e.key}}},{key:"generateSpecs",value:function(e){"mousedown"===e.trackingType?(this.nightWatchCode+='.assert.elementPresent("'+e.domPath+'")\n',this.nightWatchCode+='.click("'+e.domPath+'").pause(clickTime)\n'):"keydown"===e.trackingType&&(this.nightWatchCode+='.keys("'+e.inputKey+'").pause(inputTime)\n')}},{key:"showSpecs",value:function(){return this.nightWatchCode}},{key:"init",value:function(){return this.trackerInitialized||(this.captureEvents(),this.trackerInitialized=!0),this}}]),e}(),x=$,L=new x,P=L;r["default"].config.productionTip=!1,P.init(),window.oncontextmenu=function(e){console.log(P.showSpecs())};var M=new r["default"]({router:b,store:m,render:function(e){return e(d)}}).$mount("#app");m.$app=M;t["default"]=M},7433:function(e,t,n){},"7c55":function(e,t,n){"use strict";var r=n("7433"),o=n.n(r);o.a},d722:function(e,t,n){"use strict";var r=n("f753"),o=n.n(r),a=o.a.create({headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,baseURL:"./"}),i=a,c=n("82c6"),s=n.n(c);n.d(t,"j",(function(){return u})),n.d(t,"k",(function(){return d})),n.d(t,"o",(function(){return l})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"n",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"m",(function(){return N})),n.d(t,"h",(function(){return k})),n.d(t,"f",(function(){return w})),n.d(t,"l",(function(){return I}));var u=function(e){return i.post("/user/login/",s.a.stringify({username:e.username,password:e.password,userType:e.userType}))},d=function(e){return i.post("/user/register/",s.a.stringify({username:e.username,password:e.password,userType:e.userType}))},l=function(e){return i.post("/user/update/",s.a.stringify({userId:e.userId,username:e.username,password:e.password}))},f=function(e){return i.post("/notebook/create/",s.a.stringify({notebookName:e.notebookName,userId:e.userId,operator:e.operator}))},h=function(e){return i.post("/notebook/delete/",s.a.stringify({userId:e.userId,notebookName:e.notebookName}))},p=function(e){return i.post("/notebook/getAllByUserId/",s.a.stringify({userId:e.userId}))},m=function(e){return i.post("/note/create/",s.a.stringify({userId:e.userId,notebookName:e.notebookName,noteName:e.noteName,operator:e.operator}))},v=function(e){return i.post("/note/update/",s.a.stringify({userId:e.userId,notebookName:e.notebookName,oldNoteName:e.oldNoteName,newNoteName:e.newNoteName,operator:e.operator}))},b=function(e){return i.post("/note/delete/",s.a.stringify({userId:e.userId,notebookName:e.notebookName,noteName:e.noteName}))},g=function(e){return i.post("/note/getDocument/",s.a.stringify({userId:e.userId,notebookName:e.notebookName,order:e.order}))},y=function(e){return i.post("/branch/create/",s.a.stringify({userId:e.userId,notebookName:e.notebookName,noteName:e.noteName,branchName:e.branchName,content:e.content,operator:e.operator}))},N=function(e){return i.post("/branch/updateContent/",s.a.stringify({userId:e.userId,branchId:e.branchId,notebookName:e.notebookName,noteName:e.noteName,branchName:e.branchName,content:e.content,operator:e.operator}))},k=function(e){return i.post("/branch/getByNoteName/",s.a.stringify({userId:e.userId,notebookName:e.notebookName,noteName:e.noteName}))},w=function(e){return i.post("/branch/getByBranchId/",s.a.stringify({userId:e.userId,branchId:e.branchId}))},I=function(e){return i.post("/branch/getByKeywords/",s.a.stringify({userId:e.userId,keywords:e.keywords}))}}});